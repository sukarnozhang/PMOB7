{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/sukarno.zhanggmail.com/Desktop/PMOB7/screens/CameraScreen.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useEffect, useState, useRef } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport { Camera } from 'expo-camera';\nimport { FontAwesome } from '@expo/vector-icons';\nimport { darkStyles, lightStyles } from \"../styles/commonStyles\";\nimport { useDispatch, useSelector } from 'react-redux';\nimport { uploadPicAction } from \"../redux/ducks/accountPref\";\nexport default function CameraScreen(_ref) {\n  var _this = this;\n\n  var navigation = _ref.navigation;\n  var isDark = useSelector(function (state) {\n    return state.accountPrefs.isDark;\n  });\n  var styles = isDark ? darkStyles : lightStyles;\n  var dispatch = useDispatch();\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      hasPermission = _useState2[0],\n      setHasPermission = _useState2[1];\n\n  var _useState3 = useState(true),\n      _useState4 = _slicedToArray(_useState3, 2),\n      back = _useState4[0],\n      setBack = _useState4[1];\n\n  var cameraRef = useRef(null);\n\n  function showCamera() {\n    var _await$Camera$request, status;\n\n    return _regeneratorRuntime.async(function showCamera$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(Camera.requestPermissionsAsync());\n\n          case 2:\n            _await$Camera$request = _context.sent;\n            status = _await$Camera$request.status;\n            setHasPermission(status === 'granted');\n\n            if (hasPermission === false) {\n              Alert.alert(\"Error: No access given\");\n            }\n\n          case 6:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  function flip() {\n    setBack(!back);\n  }\n\n  function takePicture() {\n    var photo;\n    return _regeneratorRuntime.async(function takePicture$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return _regeneratorRuntime.awrap(cameraRef.current.takePictureAsync());\n\n          case 2:\n            photo = _context2.sent;\n            console.log(photo);\n            dispatch(_objectSpread(_objectSpread({}, dispatch(uploadPicAction())), {}, {\n              payload: photo\n            }));\n            navigation.navigate(\"Account\");\n\n          case 6:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  useEffect(function () {\n    navigation.setOptions({\n      headerRight: function headerRight() {\n        return React.createElement(TouchableOpacity, {\n          onPress: flip,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 9\n          }\n        }, React.createElement(FontAwesome, {\n          name: \"refresh\",\n          size: 24,\n          style: {\n            color: styles.headerTint,\n            marginRight: 15\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 11\n          }\n        }));\n      }\n    });\n  });\n  useEffect(function () {\n    showCamera();\n  }, []);\n  return React.createElement(View, {\n    style: {\n      flex: 1\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 5\n    }\n  }, React.createElement(Camera, {\n    style: additionalStyles.camera,\n    type: back ? Camera.Constants.Type.back : Camera.Constants.Type.front,\n    ref: cameraRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }, React.createElement(View, {\n    style: additionalStyles.innerView,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: additionalStyles.buttonView,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 11\n    }\n  }, React.createElement(TouchableOpacity, {\n    onPress: takePicture,\n    style: [additionalStyles.circleButton, {\n      backgroundColor: isDark ? \"black\" : \"white\"\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  })))));\n}\nvar additionalStyles = StyleSheet.create({\n  camera: {\n    flex: 1\n  },\n  circle: {\n    height: 50,\n    width: 50,\n    borderRadius: 50\n  },\n  circleButton: {\n    width: 70,\n    height: 70,\n    bottom: 0,\n    borderRadius: 50\n  },\n  buttonView: {\n    alignSelf: 'center',\n    flex: 1,\n    alignItems: 'center'\n  },\n  innerView: {\n    position: 'absolute',\n    bottom: 0,\n    flexDirection: 'row',\n    padding: 20,\n    justifyContent: 'space-between'\n  }\n});","map":{"version":3,"sources":["/Users/sukarno.zhanggmail.com/Desktop/PMOB7/screens/CameraScreen.js"],"names":["React","useEffect","useState","useRef","Camera","FontAwesome","darkStyles","lightStyles","useDispatch","useSelector","uploadPicAction","CameraScreen","navigation","isDark","state","accountPrefs","styles","dispatch","hasPermission","setHasPermission","back","setBack","cameraRef","showCamera","requestPermissionsAsync","status","Alert","alert","flip","takePicture","current","takePictureAsync","photo","console","log","payload","navigate","setOptions","headerRight","color","headerTint","marginRight","flex","additionalStyles","camera","Constants","Type","front","innerView","buttonView","circleButton","backgroundColor","StyleSheet","create","circle","height","width","borderRadius","bottom","alignSelf","alignItems","position","flexDirection","padding","justifyContent"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,EAAqCC,MAArC,QAAmD,OAAnD;;;;;AAEA,SAASC,MAAT,QAAuB,aAAvB;AACA,SAASC,WAAT,QAA4B,oBAA5B;AACA,SAASC,UAAT,EAAqBC,WAArB;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,eAAT;AAEA,eAAe,SAASC,YAAT,OAAsC;AAAA;;AAAA,MAAdC,UAAc,QAAdA,UAAc;AAEnD,MAAMC,MAAM,GAAGJ,WAAW,CAAC,UAACK,KAAD;AAAA,WAAWA,KAAK,CAACC,YAAN,CAAmBF,MAA9B;AAAA,GAAD,CAA1B;AACA,MAAMG,MAAM,GAAGH,MAAM,GAAGP,UAAH,GAAgBC,WAArC;AACA,MAAMU,QAAQ,GAAGT,WAAW,EAA5B;;AAEA,kBAA0CN,QAAQ,CAAC,IAAD,CAAlD;AAAA;AAAA,MAAOgB,aAAP;AAAA,MAAsBC,gBAAtB;;AACA,mBAAwBjB,QAAQ,CAAC,IAAD,CAAhC;AAAA;AAAA,MAAOkB,IAAP;AAAA,MAAaC,OAAb;;AACA,MAAMC,SAAS,GAAGnB,MAAM,CAAC,IAAD,CAAxB;;AAEA,WAAeoB,UAAf;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CACyBnB,MAAM,CAACoB,uBAAP,EADzB;;AAAA;AAAA;AACSC,YAAAA,MADT,yBACSA,MADT;AAEEN,YAAAA,gBAAgB,CAACM,MAAM,KAAK,SAAZ,CAAhB;;AACA,gBAAIP,aAAa,KAAK,KAAtB,EAA6B;AAC3BQ,cAAAA,KAAK,CAACC,KAAN,CAAY,wBAAZ;AACD;;AALH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAQA,WAASC,IAAT,GAAgB;AACdP,IAAAA,OAAO,CAAC,CAACD,IAAF,CAAP;AACD;;AAED,WAAeS,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CACsBP,SAAS,CAACQ,OAAV,CAAkBC,gBAAlB,EADtB;;AAAA;AACQC,YAAAA,KADR;AAGEC,YAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACAf,YAAAA,QAAQ,iCAAMA,QAAQ,CAACP,eAAe,EAAhB,CAAd;AAAmCyB,cAAAA,OAAO,EAAEH;AAA5C,eAAR;AACApB,YAAAA,UAAU,CAACwB,QAAX,CAAoB,SAApB;;AALF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAQAnC,EAAAA,SAAS,CAAC,YAAM;AACdW,IAAAA,UAAU,CAACyB,UAAX,CAAsB;AACpBC,MAAAA,WAAW,EAAE;AAAA,eACX,oBAAC,gBAAD;AAAkB,UAAA,OAAO,EAAEV,IAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,oBAAC,WAAD;AAAa,UAAA,IAAI,EAAC,SAAlB;AAA4B,UAAA,IAAI,EAAE,EAAlC;AAAsC,UAAA,KAAK,EAAE;AAAEW,YAAAA,KAAK,EAAEvB,MAAM,CAACwB,UAAhB;AAA4BC,YAAAA,WAAW,EAAE;AAAzC,WAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,CADW;AAAA;AADO,KAAtB;AAOD,GARQ,CAAT;AAUAxC,EAAAA,SAAS,CAAC,YAAM;AACdsB,IAAAA,UAAU;AACX,GAFQ,EAEN,EAFM,CAAT;AAIA,SACE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE;AAACmB,MAAAA,IAAI,EAAE;AAAP,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAEC,gBAAgB,CAACC,MAAhC;AACE,IAAA,IAAI,EAAExB,IAAI,GAAGhB,MAAM,CAACyC,SAAP,CAAiBC,IAAjB,CAAsB1B,IAAzB,GAAgChB,MAAM,CAACyC,SAAP,CAAiBC,IAAjB,CAAsBC,KADlE;AACyE,IAAA,GAAG,EAAEzB,SAD9E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEqB,gBAAgB,CAACK,SAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEL,gBAAgB,CAACM,UAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,gBAAD;AAAkB,IAAA,OAAO,EAAEpB,WAA3B;AACE,IAAA,KAAK,EAAE,CAACc,gBAAgB,CAACO,YAAlB,EAAgC;AAAEC,MAAAA,eAAe,EAAEtC,MAAM,GAAG,OAAH,GAAa;AAAtC,KAAhC,CADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,CAFF,CADF,CADF;AAaD;AAGC,IAAM8B,gBAAgB,GAAGS,UAAU,CAACC,MAAX,CAAkB;AACzCT,EAAAA,MAAM,EAAE;AACNF,IAAAA,IAAI,EAAE;AADA,GADiC;AAIvCY,EAAAA,MAAM,EAAE;AACRC,IAAAA,MAAM,EAAE,EADA;AAERC,IAAAA,KAAK,EAAE,EAFC;AAGRC,IAAAA,YAAY,EAAE;AAHN,GAJ+B;AASzCP,EAAAA,YAAY,EAAE;AACZM,IAAAA,KAAK,EAAE,EADK;AAEZD,IAAAA,MAAM,EAAE,EAFI;AAGZG,IAAAA,MAAM,EAAE,CAHI;AAIZD,IAAAA,YAAY,EAAE;AAJF,GAT2B;AAezCR,EAAAA,UAAU,EAAE;AACVU,IAAAA,SAAS,EAAE,QADD;AAEVjB,IAAAA,IAAI,EAAE,CAFI;AAGVkB,IAAAA,UAAU,EAAE;AAHF,GAf6B;AAoBzCZ,EAAAA,SAAS,EAAE;AACTa,IAAAA,QAAQ,EAAE,UADD;AAETH,IAAAA,MAAM,EAAE,CAFC;AAGTI,IAAAA,aAAa,EAAE,KAHN;AAITC,IAAAA,OAAO,EAAE,EAJA;AAKTC,IAAAA,cAAc,EAAE;AALP;AApB8B,CAAlB,CAAzB","sourcesContent":["import React, { useEffect, useState, useRef } from 'react';\nimport { View, StyleSheet, TouchableOpacity, Text } from 'react-native';\nimport { Camera } from 'expo-camera';\nimport { FontAwesome } from '@expo/vector-icons';\nimport { darkStyles, lightStyles } from '../styles/commonStyles';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { uploadPicAction } from '../redux/ducks/accountPref';\n\nexport default function CameraScreen({ navigation }) {\n\n  const isDark = useSelector((state) => state.accountPrefs.isDark);\n  const styles = isDark ? darkStyles : lightStyles\n  const dispatch = useDispatch();\n\n  const [hasPermission, setHasPermission] = useState(null);\n  const [back, setBack] = useState(true)\n  const cameraRef = useRef(null)\n\n  async function showCamera() {\n    const {status} = await Camera.requestPermissionsAsync();\n    setHasPermission(status === 'granted');\n    if (hasPermission === false) {\n      Alert.alert(\"Error: No access given\")\n    }\n  }\n\n  function flip() {\n    setBack(!back)\n  }\n\n  async function takePicture() {\n    const photo = await cameraRef.current.takePictureAsync()\n    // console.log(photo)\n    console.log(photo)\n    dispatch({ ...dispatch(uploadPicAction()), payload: photo})\n    navigation.navigate(\"Account\")\n  }\n  \n  useEffect(() => {\n    navigation.setOptions({\n      headerRight: () => (\n        <TouchableOpacity onPress={flip}>\n          <FontAwesome name=\"refresh\" size={24} style={{ color: styles.headerTint, marginRight: 15 }} />\n        </TouchableOpacity>\n      ),\n    });\n  });\n\n  useEffect(() => {\n    showCamera()\n  }, [])\n\n  return (\n    <View style={{flex: 1}}>\n      <Camera style={additionalStyles.camera}\n        type={back ? Camera.Constants.Type.back : Camera.Constants.Type.front} ref={cameraRef}>\n        <View style={additionalStyles.innerView}>\n          <View style={additionalStyles.buttonView}>\n            <TouchableOpacity onPress={takePicture}\n              style={[additionalStyles.circleButton, { backgroundColor: isDark ? \"black\" : \"white\" }]} />\n          </View>\n        </View>\n      </Camera>\n    </View>\n  )\n}\n\n\n  const additionalStyles = StyleSheet.create({\n    camera: {\n      flex: 1,\n    },\n      circle: {\n      height: 50,\n      width: 50,\n      borderRadius: 50,\n    },\n    circleButton: {\n      width: 70,\n      height: 70,\n      bottom: 0,\n      borderRadius: 50,\n    },\n    buttonView: {\n      alignSelf: 'center',\n      flex: 1,\n      alignItems: 'center'\n    },\n    innerView: {\n      position: 'absolute',\n      bottom: 0,\n      flexDirection: 'row',\n      padding: 20,\n      justifyContent: 'space-between'\n    }\n  })\n\n\n\n\n\n\n\n\n\n\n/*\nimport React, { useEffect, useState, useRef } from 'react';\nimport { View, StyleSheet, TouchableOpacity, Text } from 'react-native';\nimport { Camera } from 'expo-camera';\nimport { FontAwesome } from '@expo/vector-icons';\nimport { lightStyles } from '../styles/commonStyles';\n\n/*\nexport default function CameraScreen({ navigation }) {\n\n  return (\n    <View style={{flex: 1}}>\n      <Text>\n        Camera Screen\n      </Text>\n    </View>\n  )\n} \n\n*/\n\n/*\nconst [hasPermission, setHasPermission] = useState(null);\nasync function showCamera() {\n  const {status} = await Camera.requestPermissionsAsync();\n  setHasPermission(status === 'granted');\n  if (hasPermission === false) {\n    Alert.alert(\"Error:no access\")\n}}\n\n  \n\n\n\n  const additionalStyles = StyleSheet.create({\n    camera: {\n      flex: 1,\n    },\n      circle: {\n      height: 50,\n      width: 50,\n      borderRadius: 50,\n    },\n    circleButton: {\n      width: 70,\n      height: 70,\n      bottom: 0,\n      borderRadius: 50,\n    },\n    buttonView: {\n      alignSelf: 'center',\n      flex: 1,\n      alignItems: 'center'\n    },\n    innerView: {\n      position: 'absolute',\n      bottom: 0,\n      flexDirection: 'row',\n      padding: 20,\n      justifyContent: 'space-between'\n    }\n  })\n  */\n"]},"metadata":{},"sourceType":"module"}