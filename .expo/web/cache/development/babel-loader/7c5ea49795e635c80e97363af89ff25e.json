{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/sukarno.zhanggmail.com/Desktop/PMOB6/screens/SignInSignUpScreen.js\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport UIManager from \"react-native-web/dist/exports/UIManager\";\nimport LayoutAnimation from \"react-native-web/dist/exports/LayoutAnimation\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport Keyboard from \"react-native-web/dist/exports/Keyboard\";\nimport { API, API_LOGIN, API_SIGNUP } from \"../constants/API\";\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport axios from 'axios';\n\nif (Platform.OS === 'android' && UIManager.setLayoutAnimationEnabledExperimental) {\n  UIManager.setLayoutAnimationEnabledExperimental(true);\n}\n\nexport default function SignInSignUpScreen(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      username = _useState2[0],\n      setUsername = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      password = _useState4[0],\n      setPassword = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      confirmPassword = _useState6[0],\n      setConfirmPassword = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      loading = _useState8[0],\n      setLoading = _useState8[1];\n\n  var _useState9 = useState(''),\n      _useState10 = _slicedToArray(_useState9, 2),\n      errorText = _useState10[0],\n      setErrorText = _useState10[1];\n\n  var _useState11 = useState(true),\n      _useState12 = _slicedToArray(_useState11, 2),\n      isLogIn = _useState12[0],\n      setIsLogIn = _useState12[1];\n\n  function login() {\n    var response;\n    return _regeneratorRuntime.async(function login$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            console.log(\"---- Login time ----\");\n            Keyboard.dismiss();\n            _context.prev = 2;\n            setLoading(true);\n            _context.next = 6;\n            return _regeneratorRuntime.awrap(axios.post(API + API_LOGIN, {\n              username: username,\n              password: password\n            }));\n\n          case 6:\n            response = _context.sent;\n            console.log(\"Success logging in!\");\n            _context.next = 10;\n            return _regeneratorRuntime.awrap(AsyncStorage.setItem(\"token\", response.data.access_token));\n\n          case 10:\n            setLoading(false);\n            setUsername(\"\");\n            setPassword(\"\");\n            navigation.navigate(\"Logged In\");\n            _context.next = 23;\n            break;\n\n          case 16:\n            _context.prev = 16;\n            _context.t0 = _context[\"catch\"](2);\n            setLoading(false);\n            console.log(\"Error logging in!\");\n            console.log(_context.t0);\n            setErrorText(_context.t0.response.data.description);\n\n            if (_context.t0.response.status = 404) {\n              setErrorText(\"User does not exist\");\n            }\n\n          case 23:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[2, 16]], Promise);\n  }\n\n  return React.createElement(View, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 5\n    }\n  }, React.createElement(Text, {\n    style: styles.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  }, isLogIn ? \"Log In\" : \"Sign Up\"), React.createElement(View, {\n    style: styles.inputView,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }, React.createElement(TextInput, {\n    style: styles.textInput,\n    placeholder: \"Username:\",\n    placeholderTextColor: \"#003f5c\",\n    value: username,\n    onChangeText: function onChangeText(username) {\n      return setUsername(username);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  })), React.createElement(View, {\n    style: styles.inputView,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }, React.createElement(TextInput, {\n    style: styles.textInput,\n    placeholder: \"Password:\",\n    placeholderTextColor: \"#003f5c\",\n    secureTextEntry: true,\n    value: password,\n    onChangeText: function onChangeText(pw) {\n      return setPassword(pw);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  })), isLogIn ? React.createElement(View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 18\n    }\n  }) : React.createElement(View, {\n    style: styles.inputView,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }, React.createElement(TextInput, {\n    style: styles.textInput,\n    placeholder: \"Confirm Password:\",\n    placeholderTextColor: \"#003f5c\",\n    secureTextEntry: true,\n    onChangeText: function onChangeText(pw) {\n      return setConfirmPassword(pw);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }\n  })), React.createElement(View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }\n  }), React.createElement(View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }\n  }, React.createElement(View, {\n    style: {\n      flexDirection: \"row\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }\n  }, React.createElement(TouchableOpacity, {\n    style: styles.button,\n    onPress: login,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    style: styles.buttonText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }\n  }, \" \", isLogIn ? \"Log In\" : \"Sign Up\", \" \")), loading ? React.createElement(ActivityIndicator, {\n    style: {\n      marginLeft: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 22\n    }\n  }) : React.createElement(View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 72\n    }\n  }))), React.createElement(Text, {\n    style: styles.errorText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }\n  }, errorText), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      LayoutAnimation.configureNext({\n        duration: 700,\n        create: {\n          type: 'linear',\n          property: 'opacity'\n        },\n        update: {\n          type: 'spring',\n          springDamping: 0.4\n        }\n      });\n      setIsLogIn(!isLogIn);\n      setErrorText(\"\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }\n  }, React.createElement(Text, {\n    style: styles.switchText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 11\n    }\n  }, \" \", isLogIn ? \"No account? Sign up now.\" : \"Already have an account? Log in here.\")));\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  title: {\n    fontWeight: 'bold',\n    fontSize: 40,\n    margin: 20\n  },\n  switchText: {\n    fontWeight: '400',\n    fontSize: 20,\n    marginTop: 20\n  },\n  inputView: {\n    backgroundColor: \"#FFC0CB\",\n    borderRadius: 30,\n    width: \"70%\",\n    height: 45,\n    marginBottom: 20,\n    alignItems: \"center\"\n  },\n  textInput: {\n    height: 50,\n    flex: 1,\n    padding: 10\n  },\n  button: {\n    backgroundColor: 'blue',\n    borderRadius: 25\n  },\n  buttonText: {\n    fontWeight: '400',\n    fontSize: 20,\n    margin: 20,\n    color: 'white'\n  },\n  errorText: {\n    fontSize: 15,\n    color: 'red',\n    marginTop: 20\n  }\n});","map":{"version":3,"sources":["/Users/sukarno.zhanggmail.com/Desktop/PMOB6/screens/SignInSignUpScreen.js"],"names":["React","useState","useEffect","API","API_LOGIN","API_SIGNUP","AsyncStorage","axios","Platform","OS","UIManager","setLayoutAnimationEnabledExperimental","SignInSignUpScreen","navigation","username","setUsername","password","setPassword","confirmPassword","setConfirmPassword","loading","setLoading","errorText","setErrorText","isLogIn","setIsLogIn","login","console","log","Keyboard","dismiss","post","response","setItem","data","access_token","navigate","description","status","styles","container","title","inputView","textInput","pw","flexDirection","button","buttonText","marginLeft","LayoutAnimation","configureNext","duration","create","type","property","update","springDamping","switchText","StyleSheet","flex","backgroundColor","alignItems","justifyContent","fontWeight","fontSize","margin","marginTop","borderRadius","width","height","marginBottom","padding","color"],"mappings":"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","sourcesContent":["\nimport React, { useState, useEffect } from 'react';\nimport { StyleSheet, View, Text, TextInput, TouchableOpacity, UIManager, LayoutAnimation, ActivityIndicator, Keyboard } from 'react-native';\nimport { API, API_LOGIN, API_SIGNUP } from '../constants/API';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport axios from 'axios';\n\nif (Platform.OS === 'android' && UIManager.setLayoutAnimationEnabledExperimental) {\n  UIManager.setLayoutAnimationEnabledExperimental(true);\n} //Needs to be manually enabled for android\n\nexport default function SignInSignUpScreen({ navigation }) {\n\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const [confirmPassword, setConfirmPassword] = useState('')\n  const [loading, setLoading] = useState(false)\n  const [errorText, setErrorText] = useState('')\n\n  const [isLogIn, setIsLogIn] = useState(true)  \n\n  async function login() {\n    console.log(\"---- Login time ----\");\n    Keyboard.dismiss();\n\n    try {\n      setLoading(true);\n      const response = await axios.post(API + API_LOGIN, {\n        username,\n        password,\n      });\n      console.log(\"Success logging in!\");\n      // console.log(response);\n      await AsyncStorage.setItem(\"token\", response.data.access_token);\n      setLoading(false);\n      setUsername(\"\");\n      setPassword(\"\");\n      navigation.navigate(\"Logged In\");\n    } catch (error) {\n      setLoading(false);\n      console.log(\"Error logging in!\");\n      console.log(error);\n      setErrorText(error.response.data.description);\n      if (error.response.status = 404) {\n        setErrorText(\"User does not exist\")\n      }\n    }\n  }\n\n  return (\n    <View style={styles.container}>\n      <Text style={styles.title}>\n        \n        {isLogIn ? \"Log In\" : \"Sign Up\"}\n      </Text>\n      <View style={styles.inputView}>\n        <TextInput\n          style={styles.textInput}\n          placeholder=\"Username:\"\n          placeholderTextColor=\"#003f5c\"\n          value={username}\n          onChangeText={(username) => setUsername(username)}\n        />\n      </View>\n  \n      <View style={styles.inputView}>\n        <TextInput\n          style={styles.textInput}\n          placeholder=\"Password:\"\n          placeholderTextColor=\"#003f5c\"\n          secureTextEntry={true}\n          value={password}\n          onChangeText={(pw) => setPassword(pw)}\n        />\n      </View>\n\n      {isLogIn ? <View/> :\n        <View style={styles.inputView}>\n          <TextInput\n            style={styles.textInput}\n            placeholder=\"Confirm Password:\"\n            placeholderTextColor=\"#003f5c\"\n            secureTextEntry={true}\n            onChangeText={(pw) => setConfirmPassword(pw)}\n          />\n        </View>}\n\n      <View/>\n      <View>\n        <View style={{flexDirection: \"row\"}}>\n          <TouchableOpacity style={styles.button} onPress={login}>\n           \n            <Text style={styles.buttonText}> {isLogIn ? \"Log In\" : \"Sign Up\"} </Text>\n          </TouchableOpacity>\n          {loading ? <ActivityIndicator style={{ marginLeft: 10 }}/> : <View/>}\n        </View>\n      </View>\n      <Text style={styles.errorText}>\n        {errorText}\n      </Text>\n      <TouchableOpacity\n        onPress={() => {\n          LayoutAnimation.configureNext({\n            duration: 700,\n            create: { type: 'linear', property: 'opacity' },\n            update: { type: 'spring', springDamping: 0.4 }\n          });\n          setIsLogIn(!isLogIn);\n          setErrorText(\"\");\n        }}>\n          <Text style={styles.switchText}> {isLogIn ? \"No account? Sign up now.\" : \"Already have an account? Log in here.\"}</Text>\n      </TouchableOpacity>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  title: {\n    fontWeight: 'bold',\n    fontSize: 40, \n    margin: 20\n  },\n  switchText: {\n    fontWeight: '400',\n    fontSize: 20, \n    marginTop: 20\n  },\n  inputView: {\n    backgroundColor: \"#FFC0CB\",\n    borderRadius: 30,\n    width: \"70%\",\n    height: 45,\n    marginBottom: 20,\n    alignItems: \"center\",\n  },\n  textInput: {\n    height: 50,\n    flex: 1,\n    padding: 10,\n  },\n  button: {\n    backgroundColor: 'blue',\n    borderRadius: 25,\n  },\n  buttonText: {\n    fontWeight: '400',\n    fontSize: 20, \n    margin: 20,\n    color: 'white'\n  },\n  errorText: {\n    fontSize: 15,\n    color: 'red',\n    marginTop: 20\n  }\n});\n"]},"metadata":{},"sourceType":"module"}